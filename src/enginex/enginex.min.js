exports.__engine=function(F,O,R){'function'==typeof O&&(R=O,O={});var a={a:require('fs'),b:require('path'),c:require('esprima'),d:require('estraverse'),e:require('escodegen'),f:{window:O,globals:{},get z(){return a.p(F,O.views||'');}},g:'',h:[],i:{},j:'',k:Function,get l(){a.i=a.o(a.n(a.aa(a.j))),a.t;},n:function(b){return a.c.parse(a.s(b));},aa:function(d){return d.replace(a.y,'').replace(new RegExp(a.w,'gm'),'\n'+a.u[1]);},o:function(b){return a.d.traverse(b,{enter:function(c){if(c.body)for(var b=c.body.length-1;b>=0;b--)c.body[b].type=='ExpressionStatement'&&c.body[b].expression.type=='CallExpression'&&(c.body[b].expression.callee.name=='include'&&c.body[b].expression.arguments[0].type=='Literal'?(Array.prototype.splice.apply(c.body,[b+1,0].concat(a.n(a.aa(a.a.readFileSync(a.p(c.body[b].expression.arguments[0].value,a.f.z),'utf8').replace(/\r/gm,''))).body)),Array.prototype.splice.apply(c.body,[b,1])):c.body[b].expression.callee.name=='include'&&c.body[b].expression.arguments[0].type!='Literal'&&(c.body[b].expression.arguments[0].object.object.name=='window')?(Array.prototype.splice.apply(c.body,[b+1,0].concat(a.n(a.aa(a.a.readFileSync(a.p(a.q(c.body[b].expression.arguments[0]),a.f.z),'utf8').replace(/\r/gm,''))).body)),Array.prototype.splice.apply(c.body,[b,1])):Array.prototype.splice.apply(c.body,[b,1]));}}),a.d.traverse(b,{enter:function(c){if(c.body)for(var d in c.body)c.body[d].type=='ExpressionStatement'&&c.body[d].expression.type=='CallExpression'&&c.body[d].expression.callee.name=='include'&&c.body[d].expression.arguments[0].type=='Literal'&&a.o(b);}}),b;},p:function(b,c){return a.b.join(a.b.dirname(c),b)+(a.b.extname(b)?'':'.html');},q:function(value){var window=a.f.window;try{return eval(a.e.generate(value));}catch(a){throw new Error(a);}},r:function(b){'string'==typeof b&&(b=b.toString('utf8')),a.h.push(b);},s:function(f){var c=[],d='',e='';for(var b=0;b<f.split(a.u[1]).length;b++)d=f.split(a.u[1])[b].split(a.u[0])[0].replace(/(<\?njs)|(\?>)/gm,'').replace(/\"/gm,"'").replace(/[\u200b-\u200d\ufeff]+/gim,''),d&&c.push(('echo("'+d+'");').replace(/\r/gm,'').replace(/\n/gm,'"+\n"')),e=f.split(a.u[1])[b].split(a.u[0])[1],e&&c.push(e);return c.join('');},get t(){a.f.window.require=require,a.f.window.echo=a.r,a.g+='var require=window.require;\n',a.g+='var echo=window.echo;\n',a.g+='Object.freeze(window);\n',a.k.apply(null,['window','globals',a.g+a.e.generate(a.i)]).call(this,a.f.window,a.f.globals),a.j=a.h.join('');},get u(){return['<?njs','?>'];},get v(){return this.u[0].replace(/[\?]/gm,'\\?');},get w(){return this.u[1].replace(/[\?]/gm,'\\?');},get x(){return new RegExp(this.v+'\\s*(.*?)\\s*'+this.w,'gm');},get y(){return new RegExp('('+this.v+'\\s*([\\s;]*?)\\s*'+this.w+')|('+this.v+'\\s*([\\s;]*\\/\\/.*[\\s;]*)*\\s*'+this.w+')','gm');}};if(!F)throw delete a,err='"File location in function parameters missing!"',R(err,err),new Error(err);a.a.readFile(a.f.z,'utf8',function(b,c){if(b){delete a;var d='"A fatal error has accured in Engine.js while calling this path ('+a.f.z+')!"\n';throw b.message=d+b.message,R(b,d),new Error(b);}c?(a.j=c,a.x.test(c)&&(a.l,a.j=a.j.replace(a.x,''))):a.j='"This file ('+a.f.z+') is empty!"';var e=a.j;b&&delete a,R(b,e),b||delete a;});};
